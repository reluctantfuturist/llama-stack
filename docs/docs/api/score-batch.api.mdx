---
id: score-batch
title: "Score a batch of rows."
description: "Score a batch of rows."
sidebar_label: "Score a batch of rows."
hide_title: true
hide_table_of_contents: true
api: eJztWm1v2zYQ/iuEPm1A7KTFiq7+5vQFy9CsRpJiGNLAOEtni61EaSSVxAj833dHUrZsyU3cl7UBnA+JIpHHe3meI3nkXaTRlIUyaKLBXfT06Ij/JGhiLUsrCxUNoqE4jwuNx2Dj9Cy07kcHUVwoi8pyByjLTMbAHQ4/Gu51F5k4xRz4yc5LJDnF5CPGljqWuihRW+nHTMCCQTuWSaOtsVqqGbVdV+WXd+4Jsl/FRYpCJjS+nErUopgKS2+CMHoGK27ACMOqJ9HigA2tMmu6FIIkkV7uaE21zyvuRI91cdNsC1rDnJpKi/lOYxUK302jweWyh6qyjPRe/j8pigxBNV+pKp+gbr4Jfmu88Qo1XgRNFleLxaZ72adsFYkQ3l1iWmiBEKeC7OyL1+FJSCNA5FCy3+Miq3IlFOQobCGuIasIHyQcZjONM7CYjL/A+T/AIZv+OPUG5khC4qWBK7O8rRE7stuKKWQGGXr/VpJhOLhsoqbTQ1cHkZU2Y8XOfSjO3JcWF4ZdoQJh6E2GLlxRy6BhHbO667RSMX9bGrc+5k6WbbFgPXG0zKg/iKkucjHhtkvteDiXVIwgFQO3Ddm1YMV+60pWDGFWCo3nv1QUI5kI8k0OGbkoJ2W/We4yFmzVRLUksTNC4KaVf1xcjIRvTXxJkEMTnHRfznutNSnvGh9wfNNCW2GqPAc9r9MeujY3qSTnSW+0lqACJlT47sZxmLAgs4eO7Fvz0FmhyDaRVjmonkZIYEJIa/RZU4dHkopsVvEDrGxk9qF4f/Y2GBOT8hMUlSGyETo1MxGvUeSEKzKT4+kiJ2BSVNYNbkqMaU6IRRHHldZIw2/otRNdfYTraC2d1wC5c9MW5+k1dLMOw9FJX5wV1SzN5hSeLKNMIM7evBTPfz967iiLt5CXHhk1vgjqq/GOIRFnHuIrfR6I/MCcpy+6mRNnklghUp44+cEWBXVW81owSyUgzOQ10t+8qKgN+1bmuCfVnlSPjFRPX6zGuyCknzLSA7NMk1r/FBVxgjyEtzFiwm5jstG8LTKZS9sXI1qJkEKW0AMzIJJk9FHXM9WzbTOVQX1NwSd3MpWQ3MPAqhTekr95gYHBDXtq7an1iKj1rDlfnTCySXNx7tG+Gj/Qa9iGfO2MpC/eVYQEhNzNShOkiUcVbtOX1PRKcAq8Wm3vXD8jeE+qPakeF6mOukZ7AIUcSxhqMDNsTdjisfbr2rrdGoXYb8LIXbxL5UrPch92knDw3A7WNWIugKatIzGcZV95v9H8eVwkc1b+BxSJeGI9edWqCBW+FuS8GzaY43r7+4WFiVaJYov2/qtzBq3ZB1GW5WMw449VMvNoCvmr/WHTLpbUuX9fhYFImt3A3IgNYZtOQ1XlDIeNZppS1+2YxBmXwSZgZNxRlHijRjyiuQjpxHUf55TVHpBTTlp1u7dvT4XrzHEiogvgApMT6tJXsJdHItfmpR1bJH7QImunrPKyMpYo6EWIWoQbgbXw43kjljaFgg27BR9S6VtWnFqFDieBDcRbqyH2mQqUuSE/uNQwQ8VEIwbXKaNZRiMxnYC9R5FVpGkFq8EF+QblLOWq0+oV7Q5psuBZkRSYkbdjyMZuWcpU4FQC8bwJhOFKrTdBKweGFmzppeE4N+xY4tY0oxsKWaarcNXZl4txlFTm/GBD7dKPVZcsd8vz1uvfxHI3CrYFpeEeQvTQ/Ml9NxjTctBoSV3nDOrYA9PzWGzxnFLIVM4qn477HWXM+3LPBr9Xuaf14Wtyz4aw75t7uANn82/E0T1Df3qGbkb8AXx0oR05aO1ISDeI8Kj8DoT0KG8ycfXmayhYS/m+3NtD/3+G/r1AP+bI7QhxF+37sc07BslicqnA0g6E4hnAPf+L5JHgoGVOpnN8qcEazu5d6O+Xyvul8n6p/Giy0aNaKq8TdudUtF8571fOj56wP/PKOcB2Z2LuV9B7CjySFfRisRUP6/fY+Kpb+0Ja84Lemp94HVgvzUIDX+gmBNRXy8ahFN7AUH2FbnOcv1MkSdoVzfnc2x13eykuKnVVvb9bABpV/K4a/BZ1t9wn8xdgnEdXY1hd4YLRbtOCzyrKwl2SKcGm9N/h9ZPDMKz7i736FMMfxBtXy680n6ik1paDw0NQ815KQjDpZRnk0DMW4k/9uMjddsggMUfauev4qs4/l1f8jc84zlanIa9XJzrN04wVj7sOJbaGMBjKp18unvVSinUU56yjOA9nYA57JJ8N9OG9ftKRG/nI0Kwdnnk+1tuOhmR3u5Zy8rUkIR+U2PgBwQcuTFOVlIVUBBpQ7s6E1MQI7RcACYOYj0r1FGJe7LNQ0PhB8ZkW39olqLWFT/h+U4Y+sQWtTnn96fMKBzwHd7ak/I5066nWmgMaJ1XbewTWWFrjHNJ2SPLdUw+XuwCxS+/beg/mn2qYESYYStzq7o4SBr7X2WLBrwkkeu7Pz9yh7YSDecn8TxESXqwSvD4hNYleejV7IRn7G6iD9uEaZxPfYxjHWNrPtr1qUGb07vyCp69wgMdre17jwg1PcfR7EEV8Iricptw72uaDmlU81wwiL5N//gNwb3WD
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Score a batch of rows."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/scoring/score-batch"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Score a batch of rows.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"dataset_id":{"type":"string","description":"The ID of the dataset to score."},"scoring_functions":{"type":"object","additionalProperties":{"oneOf":[{"oneOf":[{"type":"object","properties":{"type":{"const":"llm_as_judge","default":"llm_as_judge","description":"The type of scoring function parameters, always llm_as_judge","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"judge_model":{"type":"string","description":"Identifier of the LLM model to use as a judge for scoring"},"prompt_template":{"type":"string","description":"(Optional) Custom prompt template for the judge model"},"judge_score_regexes":{"type":"array","items":{"type":"string"},"description":"Regexes to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","judge_model","judge_score_regexes","aggregation_functions"],"title":"LLMAsJudgeScoringFnParams","description":"Parameters for LLM-as-judge scoring function configuration."},{"type":"object","properties":{"type":{"const":"regex_parser","default":"regex_parser","description":"The type of scoring function parameters, always regex_parser","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"parsing_regexes":{"type":"array","items":{"type":"string"},"description":"Regex to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","parsing_regexes","aggregation_functions"],"title":"RegexParserScoringFnParams","description":"Parameters for regex parser scoring function configuration."},{"type":"object","properties":{"type":{"const":"basic","default":"basic","description":"The type of scoring function parameters, always basic","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","aggregation_functions"],"title":"BasicScoringFnParams","description":"Parameters for basic scoring function configuration."}],"discriminator":{"propertyName":"type","mapping":{"llm_as_judge":{"type":"object","properties":{"type":{"const":"llm_as_judge","default":"llm_as_judge","description":"The type of scoring function parameters, always llm_as_judge","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"judge_model":{"type":"string","description":"Identifier of the LLM model to use as a judge for scoring"},"prompt_template":{"type":"string","description":"(Optional) Custom prompt template for the judge model"},"judge_score_regexes":{"type":"array","items":{"type":"string"},"description":"Regexes to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","judge_model","judge_score_regexes","aggregation_functions"],"title":"LLMAsJudgeScoringFnParams","description":"Parameters for LLM-as-judge scoring function configuration."},"regex_parser":{"type":"object","properties":{"type":{"const":"regex_parser","default":"regex_parser","description":"The type of scoring function parameters, always regex_parser","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"parsing_regexes":{"type":"array","items":{"type":"string"},"description":"Regex to extract the answer from generated response"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","parsing_regexes","aggregation_functions"],"title":"RegexParserScoringFnParams","description":"Parameters for regex parser scoring function configuration."},"basic":{"type":"object","properties":{"type":{"const":"basic","default":"basic","description":"The type of scoring function parameters, always basic","type":"string","enum":["llm_as_judge","regex_parser","basic"],"title":"ScoringFnParamsType"},"aggregation_functions":{"type":"array","items":{"type":"string","enum":["average","weighted_average","median","categorical_count","accuracy"],"title":"AggregationFunctionType","description":"Types of aggregation functions for scoring results."},"description":"Aggregation functions to apply to the scores of each row"}},"additionalProperties":false,"required":["type","aggregation_functions"],"title":"BasicScoringFnParams","description":"Parameters for basic scoring function configuration."}}},"title":"ScoringFnParams"},{"type":"null"}]},"description":"The scoring functions to use for the scoring."},"save_results_dataset":{"type":"boolean","description":"Whether to save the results to a dataset."}},"additionalProperties":false,"required":["dataset_id","scoring_functions","save_results_dataset"],"title":"ScoreBatchRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A ScoreBatchResponse.","content":{"application/json":{"schema":{"type":"object","properties":{"dataset_id":{"type":"string","description":"(Optional) The identifier of the dataset that was scored"},"results":{"type":"object","additionalProperties":{"type":"object","properties":{"score_rows":{"type":"array","items":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]}},"description":"The scoring result for each row. Each row is a map of column name to value."},"aggregated_results":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"Map of metric name to aggregated value"}},"additionalProperties":false,"required":["score_rows","aggregated_results"],"title":"ScoringResult","description":"A scoring result for a single row."},"description":"A map of scoring function name to ScoringResult"}},"additionalProperties":false,"required":["results"],"title":"ScoreBatchResponse","description":"Response from batch scoring operations on datasets."}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>
  
</StatusCodes>


      