---
id: query-spans
title: "Query spans."
description: "Query spans."
sidebar_label: "Query spans."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Query spans."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/telemetry/spans"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Query spans.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"attribute_filters":{"type":"array","items":{"type":"object","properties":{"key":{"type":"string","description":"The attribute key to filter on"},"op":{"description":"The comparison operator to apply","type":"string","enum":["eq","ne","gt","lt"],"title":"QueryConditionOp"},"value":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}],"description":"The value to compare against"}},"additionalProperties":false,"required":["key","op","value"],"title":"QueryCondition","description":"A condition for filtering query results."},"description":"The attribute filters to apply to the spans."},"attributes_to_return":{"type":"array","items":{"type":"string"},"description":"The attributes to return in the spans."},"max_depth":{"type":"integer","description":"The maximum depth of the tree."}},"additionalProperties":false,"required":["attribute_filters","attributes_to_return"],"title":"QuerySpansRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A QuerySpansResponse.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"span_id":{"type":"string","description":"Unique identifier for the span"},"trace_id":{"type":"string","description":"Unique identifier for the trace this span belongs to"},"parent_span_id":{"type":"string","description":"(Optional) Unique identifier for the parent span, if this is a child span"},"name":{"type":"string","description":"Human-readable name describing the operation this span represents"},"start_time":{"type":"string","format":"date-time","description":"Timestamp when the operation began"},"end_time":{"type":"string","format":"date-time","description":"(Optional) Timestamp when the operation finished, if completed"},"attributes":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"(Optional) Key-value pairs containing additional metadata about the span"}},"additionalProperties":false,"required":["span_id","trace_id","name","start_time"],"title":"Span","description":"A span representing a single operation within a trace."},"description":"List of spans matching the query criteria"}},"additionalProperties":false,"required":["data"],"title":"QuerySpansResponse","description":"Response containing a list of spans."}}}},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>
  
</StatusCodes>


      