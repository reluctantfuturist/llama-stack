---
id: insert-chunks
title: "Insert chunks into a vector database."
description: "Insert chunks into a vector database."
sidebar_label: "Insert chunks into a vector database."
hide_title: true
hide_table_of_contents: true
api: eJztWm1vG7kR/iuEvrQFZFkX5Ho995MvSVGjSWw4ToHCEWxql9Lywl1uSa4UnaD/3pkhd5e7kiw5ORRNIX9I7CU578/M8GU9MMKWurDCDi7WgxfjMf6XCpsYWTqpi8HF4Pofg81w8HLX0F0mmBH/roR1bMktk8WCK5kybVjO1UybXKSD4SDRhROFw/W8LJVMOK4//9UikfXAJpnIOf7mVqUAsnr6q0gcLCyNLoVx0ktnHXeVjeZJIDsXBiZ2xfr73d0N87NZolOB8jvplIjWWmdkMd9a+sYYEJ4mDxlnNtPGMVvlOTcrpmfMgcaC5iwzmWRMeqWN5IVjoDDjRRgnPhuk77hUx3L2s5G10gXoxrIq58WZETzlUyVYtKYjDnKSBehcJEdo+cdr+o2rP7FL9vH2bVAmAeGnglVWpMxp8CysFgvBcm0EqIn+JM8xPtWVI+a2FImcyYTpJKmMEcC+JxcIxtNUen43kUNnXFkxHGD8SANxcnFfe7j2VmO8SeM/b6Y9xqtjmc2MzkmGy5urEbvV1TxTK3CPUnpp2e3fXrGf/jL+aYRGE194XvrIqOMLQr3l9wtP2a0P8VaeIyN/s0HtX774eTdyEiUBFSyD5RZ/cVrD4mJVE0aqEAhzuRDwf64rmIO2lbk4geoEqu8MVC9+bvndQaS/w0gPyLIxtP6lK8AEWEh8SYRI0WwINu4EUzKXbsRulOAgkIPo4XMOIFEwaEYBbz/uq1RWmAU4H8yJUBJgHgysqhBfwN4O/hLBDCdonaD1HUHrx7heXWFkg+Tsg4/2ln+A1+V2yNfGSEfsuoJIEDynqjQVUHgK7cBgMBbglYoZr5TbhthThE+gOoHq+wLVeBe3IyBEKMFQ43OL2vwTJmlzdY3id8W9AiEhrpKsKj5jAIGxOVvQdJZyx6dQ40bAFo1FFr9KKdxx1YNfhejghucCMI/cJt6SUFF/0ekK1fmdUOfFekinDzI9HFlYbGUKbDFxmDoUeqphcHllaDQyA7kkKNjy4sbwFbCSTuT2sMSR4roQ1zOwTl/szXDH2B5yfnRbcWADGwNwS87nPlZDdoy+xKZ5LfGvXBbchfRQmycIzFC/EbtUS76y7JMn82lA0CaKBzWvjNqRnAnhgRURYsEXNAA9FA54cOM0HLmgeedrZLf5K/rszy+HaxzZjNh7Df2Yy2A2roeOSqW+a1OimLvMt2oW4/eQtPK4gEI2fpiVGsIEf4EQot5QWF0ZyHnPyjPIOcopQJ8yNai3x9HonjfQPKb45WLgDbIlq/9MXSb2rt7WZGjc54XIOyRnL1MQDVjOWY96MIgvOaTBcyxAOtZxFZmC+L3yCl9BOG7peBnUimOW4PRtIHLii+tgqPnwTRBCKh5BRO9wtMGsmtZXGZTYRPZEgk+b00UsgzWxXsSaotzBnKv3kPLRPJ5dDpmdQnJ9bIo4ZbNTNjtlswPZrJ8tTknt25PaZtPbqSoBKEtjOlEZ2Wr5Tt3aKb+d8tupW/vfS2ynbu2UzU7Z7NSt/V8ltWO6tc3kqTk70VQzqU2GJ33D7umzbCmRYEPvdDvEcNOwylvd0lFhLhzvQafx/m677egki0qpuChOtQb+RfypqPKpMPGX6CCx07JuF9fNZNM3xbsgNoDL6kRyPEteSkhfjVF8jltKpZoT+ZAsc0Cg8oYEr6UVIVEWM0GH7/5MG4RN01BpDpyhNpr1n/6EGwLWEKPrjUbAEbua4QURA5AtJCQF8FMrcKLzskKt6uvZIRhMQ5z60+ujj5K9La5ee3NIzGRIpbZF/8icfURDoZxTnnwWBfxeFYlXRLpVe7r8EAfOHt901I388f76ru+Tvd5gqMRjl+Uj6lHjdp+gh+rX88wIBowR1/jOCtdx21wUeOFAYqF62quX6qTKEbZAh4OsAcVkznrsK2RpyLoMLOLNPBV472VZuAoIBfYown5uLxsPma0gt1ARg0I1ZDOpBCu5y6J80l5Y+AgxAm3wgK9trON5ecSV42XBdI2YZh0EQkrXLhATy0wUUTjhw6HAh3hWZfpf4am4dSwwi+CwhFV6eZyd/dynUnh9gTg3uioh1BWFVLjmcXou0OoRd6cBAvI3YY4ToJneMPKWjAP8ta/iCLU7+ZlWRAybnPZA2fQ4tm0i9Cl4H/M/2HbqTp4p+Kqw0l/DHfAxMm7mNzerjSQhAXYzM/H04e9N+0CvXo7k5gsCscK1tpPjeqW7U4N/R141yT6zQ91Q3Y28wvl1In9eE5U03UtTIiY9wjs6KA8wkLa2EpWLpqPBq06qFrsvereKb1P6bHtVOmJvOEDskUR4xJcJuPdBfvgMqub7da0Ue2yK0wV7hPzh7gEIQ3ZZrCaPlPIfm5jDGW+ldfczpbnDYSOaPESV5bFT6dr+YKUrlHMm5xUsySCHvFU85+yDgxoYNoE2ylehmoaiBPQ99VYSJP+cFsQ59WAFiJAe84qEUg1AD12g5EJ0gtEeEY1xWHVu0Zsr7k4DjU4m59r60Sl14S0VZyrh8ZZpfA9QanqYisUM/jpf/HDuuZxJfe5jBkb9yzdL/S5t0QeZc+XF+TkvVmcZUBDpmUI3nFl0wwjMRkcaYCcwv1vRwtf1nuh+gmP4hOC2fWzwpn1C0X0sEO2xwpX+fXQ7345GzVi3e70fT3Y0jj2ynV5u16xOi9J+rnuLiNx24R/vLM3jft3sixRVtP7QVu3ZPyEqFOM9KX28L/+O/fYsjvgxvRGaaYr9EHYxAj+EtzyENRAH48ZDYfHDDnTg0yfbeQTE42dJMWXKhgGl9lPBej8cG1FcB40wHbJYyjlARRrAsfHvelLfWgOYZzwR1hOF5PMJM6CibYHT28Sn+E5bCVAGjw68VO/Q8n4HiSDKOZXiwh/WHfs4p2OPOK6PJRDyD2bm81JBFqdG0B+jeVDfe8s3sB4MwyMgzBwIXpyyXiPBj0ZtNvgZYGlW/kEQvUubop/vcQ+aCZ5iRAIIP4sVVjMv8tmdPzhYcFXRVrH/Wgj3tH7FZZKI0j05dxJlqJvrD3cweRpeJGHAw1fDl/AR/70Y0CMnXE0Zmb6tB4oX84oOHQeeJv78B05gxtU=
sidebar_class_name: "post api-method"
info_path: docs/api/llama-stack-specification
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Insert chunks into a vector database."}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/v1/vector-io/insert"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Insert chunks into a vector database.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"vector_db_id":{"type":"string","description":"The identifier of the vector database to insert the chunks into."},"chunks":{"type":"array","items":{"type":"object","properties":{"content":{"oneOf":[{"type":"string"},{"oneOf":[{"type":"object","properties":{"type":{"type":"string","const":"image","default":"image","description":"Discriminator type of the content item. Always \"image\""},"image":{"type":"object","properties":{"url":{"description":"A URL of the image or data URL in the format of data:image/{type};base64,{data}. Note that URL could have length limits.","type":"object","properties":{"uri":{"type":"string","description":"The URL string pointing to the resource"}},"additionalProperties":false,"required":["uri"],"title":"URL"},"data":{"type":"string","contentEncoding":"base64","description":"base64 encoded image data as string"}},"additionalProperties":false,"description":"Image as a base64 encoded string or an URL"}},"additionalProperties":false,"required":["type","image"],"title":"ImageContentItem","description":"A image content item"},{"type":"object","properties":{"type":{"type":"string","const":"text","default":"text","description":"Discriminator type of the content item. Always \"text\""},"text":{"type":"string","description":"Text content"}},"additionalProperties":false,"required":["type","text"],"title":"TextContentItem","description":"A text content item"}],"discriminator":{"propertyName":"type","mapping":{"image":{"type":"object","properties":{"type":{"type":"string","const":"image","default":"image","description":"Discriminator type of the content item. Always \"image\""},"image":{"type":"object","properties":{"url":{"description":"A URL of the image or data URL in the format of data:image/{type};base64,{data}. Note that URL could have length limits.","type":"object","properties":{"uri":{"type":"string","description":"The URL string pointing to the resource"}},"additionalProperties":false,"required":["uri"],"title":"URL"},"data":{"type":"string","contentEncoding":"base64","description":"base64 encoded image data as string"}},"additionalProperties":false,"description":"Image as a base64 encoded string or an URL"}},"additionalProperties":false,"required":["type","image"],"title":"ImageContentItem","description":"A image content item"},"text":{"type":"object","properties":{"type":{"type":"string","const":"text","default":"text","description":"Discriminator type of the content item. Always \"text\""},"text":{"type":"string","description":"Text content"}},"additionalProperties":false,"required":["type","text"],"title":"TextContentItem","description":"A text content item"}}},"title":"InterleavedContentItem"},{"type":"array","items":{"oneOf":[{"type":"object","properties":{"type":{"type":"string","const":"image","default":"image","description":"Discriminator type of the content item. Always \"image\""},"image":{"type":"object","properties":{"url":{"description":"A URL of the image or data URL in the format of data:image/{type};base64,{data}. Note that URL could have length limits.","type":"object","properties":{"uri":{"type":"string","description":"The URL string pointing to the resource"}},"additionalProperties":false,"required":["uri"],"title":"URL"},"data":{"type":"string","contentEncoding":"base64","description":"base64 encoded image data as string"}},"additionalProperties":false,"description":"Image as a base64 encoded string or an URL"}},"additionalProperties":false,"required":["type","image"],"title":"ImageContentItem","description":"A image content item"},{"type":"object","properties":{"type":{"type":"string","const":"text","default":"text","description":"Discriminator type of the content item. Always \"text\""},"text":{"type":"string","description":"Text content"}},"additionalProperties":false,"required":["type","text"],"title":"TextContentItem","description":"A text content item"}],"discriminator":{"propertyName":"type","mapping":{"image":{"type":"object","properties":{"type":{"type":"string","const":"image","default":"image","description":"Discriminator type of the content item. Always \"image\""},"image":{"type":"object","properties":{"url":{"description":"A URL of the image or data URL in the format of data:image/{type};base64,{data}. Note that URL could have length limits.","type":"object","properties":{"uri":{"type":"string","description":"The URL string pointing to the resource"}},"additionalProperties":false,"required":["uri"],"title":"URL"},"data":{"type":"string","contentEncoding":"base64","description":"base64 encoded image data as string"}},"additionalProperties":false,"description":"Image as a base64 encoded string or an URL"}},"additionalProperties":false,"required":["type","image"],"title":"ImageContentItem","description":"A image content item"},"text":{"type":"object","properties":{"type":{"type":"string","const":"text","default":"text","description":"Discriminator type of the content item. Always \"text\""},"text":{"type":"string","description":"Text content"}},"additionalProperties":false,"required":["type","text"],"title":"TextContentItem","description":"A text content item"}}},"title":"InterleavedContentItem"}}],"title":"InterleavedContent","description":"The content of the chunk, which can be interleaved text, images, or other types."},"metadata":{"type":"object","additionalProperties":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"number"},{"type":"string"},{"type":"array"},{"type":"object"}]},"description":"Metadata associated with the chunk that will be used in the model context during inference."},"embedding":{"type":"array","items":{"type":"number"},"description":"Optional embedding for the chunk. If not provided, it will be computed later."},"stored_chunk_id":{"type":"string","description":"The chunk ID that is stored in the vector database. Used for backend functionality."},"chunk_metadata":{"description":"Metadata for the chunk that will NOT be used in the context during inference. The `chunk_metadata` is required backend functionality.","type":"object","properties":{"chunk_id":{"type":"string","description":"The ID of the chunk. If not set, it will be generated based on the document ID and content."},"document_id":{"type":"string","description":"The ID of the document this chunk belongs to."},"source":{"type":"string","description":"The source of the content, such as a URL, file path, or other identifier."},"created_timestamp":{"type":"integer","description":"An optional timestamp indicating when the chunk was created."},"updated_timestamp":{"type":"integer","description":"An optional timestamp indicating when the chunk was last updated."},"chunk_window":{"type":"string","description":"The window of the chunk, which can be used to group related chunks together."},"chunk_tokenizer":{"type":"string","description":"The tokenizer used to create the chunk. Default is Tiktoken."},"chunk_embedding_model":{"type":"string","description":"The embedding model used to create the chunk's embedding."},"chunk_embedding_dimension":{"type":"integer","description":"The dimension of the embedding vector for the chunk."},"content_token_count":{"type":"integer","description":"The number of tokens in the content of the chunk."},"metadata_token_count":{"type":"integer","description":"The number of tokens in the metadata of the chunk."}},"additionalProperties":false,"title":"ChunkMetadata"}},"additionalProperties":false,"required":["content","metadata"],"title":"Chunk","description":"A chunk of content that can be inserted into a vector database."},"description":"The chunks to insert. Each `Chunk` should contain content which can be interleaved text, images, or other types. `metadata`: `dict[str, Any]` and `embedding`: `List[float]` are optional. If `metadata` is provided, you configure how Llama Stack formats the chunk during generation. If `embedding` is not provided, it will be computed later."},"ttl_seconds":{"type":"integer","description":"The time to live of the chunks."}},"additionalProperties":false,"required":["vector_db_id","chunks"],"title":"InsertChunksRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK"},"400":{"description":"The request was invalid or malformed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":400,"title":"Bad Request","detail":"The request was invalid or malformed"}}}},"429":{"description":"The client has sent too many requests in a given amount of time","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":429,"title":"Too Many Requests","detail":"You have exceeded the rate limit. Please try again later."}}}},"500":{"description":"The server encountered an unexpected error","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":500,"title":"Internal Server Error","detail":"An unexpected error occurred. Our team has been notified."}}}},"default":{"description":"An unexpected error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"HTTP status code"},"title":{"type":"string","description":"Error title, a short summary of the error which is invariant for an error type"},"detail":{"type":"string","description":"Error detail, a longer human-readable description of the error"},"instance":{"type":"string","description":"(Optional) A URL which can be used to retrieve more information about the specific occurrence of the error"}},"additionalProperties":false,"required":["status","title","detail"],"title":"Error","description":"Error response from the API. Roughly follows RFC 7807."},"example":{"status":0,"title":"Error","detail":"An unexpected error occurred"}}}}}}
>
  
</StatusCodes>


      