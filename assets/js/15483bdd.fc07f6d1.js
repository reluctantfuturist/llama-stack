"use strict";(self.webpackChunkdocusaurus_template_openapi_docs=self.webpackChunkdocusaurus_template_openapi_docs||[]).push([[9830],{28453:(e,d,i)=>{i.d(d,{R:()=>r,x:()=>c});var n=i(96540);const s={},t=n.createContext(s);function r(e){const d=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function c(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(t.Provider,{value:d},e.children)}},65110:(e,d,i)=>{i.r(d),i.d(d,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"providers/post_training/inline_huggingface","title":"inline::huggingface","description":"HuggingFace-based post-training provider for fine-tuning models using the HuggingFace ecosystem","source":"@site/docs/providers/post_training/inline_huggingface.mdx","sourceDirName":"providers/post_training","slug":"/providers/post_training/inline_huggingface","permalink":"/llama-stack/docs/providers/post_training/inline_huggingface","draft":false,"unlisted":false,"editUrl":"https://github.com/meta-llama/llama-stack/tree/main/docs/docs/providers/post_training/inline_huggingface.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"description":"HuggingFace-based post-training provider for fine-tuning models using the HuggingFace ecosystem","sidebar_label":"Huggingface","sidebar_position":2,"title":"inline::huggingface"},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/llama-stack/docs/providers/post_training/"},"next":{"title":"Huggingface Cpu","permalink":"/llama-stack/docs/providers/post_training/inline_huggingface-cpu"}}');var s=i(74848),t=i(28453);const r={description:"HuggingFace-based post-training provider for fine-tuning models using the HuggingFace ecosystem",sidebar_label:"Huggingface",sidebar_position:2,title:"inline::huggingface"},c="inline::huggingface",l={},o=[{value:"Description",id:"description",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Sample Configuration",id:"sample-configuration",level:2}];function h(e){const d={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.header,{children:(0,s.jsx)(d.h1,{id:"inlinehuggingface",children:"inline::huggingface"})}),"\n",(0,s.jsx)(d.h2,{id:"description",children:"Description"}),"\n",(0,s.jsx)(d.p,{children:"HuggingFace-based post-training provider for fine-tuning models using the HuggingFace ecosystem."}),"\n",(0,s.jsx)(d.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(d.table,{children:[(0,s.jsx)(d.thead,{children:(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.th,{children:"Field"}),(0,s.jsx)(d.th,{children:"Type"}),(0,s.jsx)(d.th,{children:"Required"}),(0,s.jsx)(d.th,{children:"Default"}),(0,s.jsx)(d.th,{children:"Description"})]})}),(0,s.jsxs)(d.tbody,{children:[(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"device"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'str'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"cuda"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"distributed_backend"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"Literal['fsdp', 'deepspeed']"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"checkpoint_format"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"Literal['full_state', 'huggingface']"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"huggingface"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"chat_template"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'str'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<|user|>{input}<|assistant|>{output}"})}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"model_specific_config"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'dict'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"{'trust_remote_code': True, 'attn_implementation': 'sdpa'}"})}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"max_seq_length"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'int'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"2048"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"gradient_checkpointing"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'bool'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"False"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"save_total_limit"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'int'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"3"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"logging_steps"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'int'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"10"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"warmup_ratio"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'float'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"0.1"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"weight_decay"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'float'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"0.01"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"dataloader_num_workers"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'int'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"4"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"dataloader_pin_memory"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'bool'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"True"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"dpo_beta"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'float'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"0.1"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"use_reference_model"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'bool'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"True"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"dpo_loss_type"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"Literal['sigmoid', 'hinge', 'ipo', 'kto_pair'"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{children:"sigmoid"}),(0,s.jsx)(d.td,{})]}),(0,s.jsxs)(d.tr,{children:[(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"dpo_output_dir"})}),(0,s.jsx)(d.td,{children:(0,s.jsx)(d.code,{children:"<class 'str'>"})}),(0,s.jsx)(d.td,{children:"No"}),(0,s.jsx)(d.td,{}),(0,s.jsx)(d.td,{})]})]})]}),"\n",(0,s.jsx)(d.h2,{id:"sample-configuration",children:"Sample Configuration"}),"\n",(0,s.jsx)(d.pre,{children:(0,s.jsx)(d.code,{className:"language-yaml",children:"checkpoint_format: huggingface\ndistributed_backend: null\ndevice: cpu\ndpo_output_dir: ~/.llama/dummy/dpo_output\n"})})]})}function a(e={}){const{wrapper:d}={...(0,t.R)(),...e.components};return d?(0,s.jsx)(d,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);