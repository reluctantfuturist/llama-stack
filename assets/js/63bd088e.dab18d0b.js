"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1005],{4865:(e,n,i)=>{i.d(n,{A:()=>x});var s=i(96540),r=i(34164),l=i(23104),t=i(47751),o=i(92303);const c={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var a=i(74848);function d(e){var n=e.className,i=e.block,s=e.selectedValue,t=e.selectValue,o=e.tabValues,d=[],h=(0,l.a_)().blockElementScrollPositionUntilNextRender,u=function(e){var n=e.currentTarget,i=d.indexOf(n),r=o[i].value;r!==s&&(h(n),t(r))},x=function(e){var n,i=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":var s,r=d.indexOf(e.currentTarget)+1;i=null!=(s=d[r])?s:d[0];break;case"ArrowLeft":var l,t=d.indexOf(e.currentTarget)-1;i=null!=(l=d[t])?l:d[d.length-1]}null==(n=i)||n.focus()};return(0,a.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":i},n),children:o.map(function(e){var n=e.value,i=e.label,l=e.attributes;return(0,a.jsx)("li",Object.assign({role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:function(e){d.push(e)},onKeyDown:x,onClick:u},l,{className:(0,r.A)("tabs__item",c.tabItem,null==l?void 0:l.className,{"tabs__item--active":s===n}),children:null!=i?i:n}),n)})})}function h(e){var n=e.lazy,i=e.children,l=e.selectedValue,t=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){var o=t.find(function(e){return e.props.value===l});return o?(0,s.cloneElement)(o,{className:(0,r.A)("margin-top--md",o.props.className)}):null}return(0,a.jsx)("div",{className:"margin-top--md",children:t.map(function(e,n){return(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==l})})})}function u(e){var n=(0,t.u)(e);return(0,a.jsxs)("div",{className:(0,r.A)("tabs-container",c.tabList),children:[(0,a.jsx)(d,Object.assign({},n,e)),(0,a.jsx)(h,Object.assign({},n,e))]})}function x(e){var n=(0,o.default)();return(0,a.jsx)(u,Object.assign({},e,{children:(0,t.v)(e.children)}),String(n))}},48518:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>x,frontMatter:()=>c,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"deploying/index","title":"Deploying Llama Stack","description":"Production deployment guides for Llama Stack in various environments","source":"@site/docs/deploying/index.mdx","sourceDirName":"deploying","slug":"/deploying/","permalink":"/llama-stack/docs/deploying/","draft":false,"unlisted":false,"editUrl":"https://github.com/meta-llama/llama-stack/tree/main/docs/docs/deploying/index.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Deploying Llama Stack","description":"Production deployment guides for Llama Stack in various environments","sidebar_label":"Overview","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Scoring","permalink":"/llama-stack/docs/advanced-apis/scoring"},"next":{"title":"Kubernetes","permalink":"/llama-stack/docs/deploying/kubernetes"}}');var r=i(74848),l=i(28453),t=i(4865),o=i(19365);const c={title:"Deploying Llama Stack",description:"Production deployment guides for Llama Stack in various environments",sidebar_label:"Overview",sidebar_position:1},a="Deploying Llama Stack",d={},h=[{value:"Deployment Options",id:"deployment-options",level:2},{value:"Architecture Considerations",id:"architecture-considerations",level:2},{value:"High Availability",id:"high-availability",level:3},{value:"Scalability",id:"scalability",level:3},{value:"Security",id:"security",level:3},{value:"Getting Started",id:"getting-started",level:2},{value:"Quick Start Checklist",id:"quick-start-checklist",level:3},{value:"Recommended Flow",id:"recommended-flow",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"\ud83c\udfd7\ufe0f <strong>Infrastructure</strong>",id:"\ufe0f-infrastructure",level:3},{value:"\ud83d\udd12 <strong>Security</strong>",id:"-security",level:3},{value:"\ud83d\udcca <strong>Monitoring</strong>",id:"-monitoring",level:3},{value:"\ud83d\ude80 <strong>Performance</strong>",id:"-performance",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Related Resources",id:"related-resources",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"deploying-llama-stack",children:"Deploying Llama Stack"})}),"\n",(0,r.jsx)(n.p,{children:"This section provides comprehensive guides for deploying Llama Stack in production environments, focusing on scalable, reliable deployments suitable for enterprise use."}),"\n",(0,r.jsx)(n.h2,{id:"deployment-options",children:"Deployment Options"}),"\n",(0,r.jsx)(n.p,{children:"Llama Stack can be deployed in various environments depending on your requirements:"}),"\n",(0,r.jsxs)(t.A,{children:[(0,r.jsxs)(o.default,{value:"kubernetes",label:"Kubernetes",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Container Orchestration"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Deploy on Kubernetes clusters (local, cloud, or on-premises)"}),"\n",(0,r.jsx)(n.li,{children:"Supports both local development (Kind) and production (EKS, GKE, AKS)"}),"\n",(0,r.jsx)(n.li,{children:"Includes horizontal scaling and high availability"}),"\n",(0,r.jsx)(n.li,{children:"Integrated with vLLM for efficient model serving"}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use Cases:"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Production environments requiring scalability"}),"\n",(0,r.jsx)(n.li,{children:"Multi-tenant deployments"}),"\n",(0,r.jsx)(n.li,{children:"CI/CD integration"}),"\n",(0,r.jsx)(n.li,{children:"Auto-scaling based on demand"}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"./kubernetes",children:(0,r.jsx)(n.strong,{children:"\u2192 Kubernetes Deployment Guide"})})})]}),(0,r.jsxs)(o.default,{value:"cloud",label:"Cloud Native",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Managed Cloud Services"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"AWS EKS with automated setup scripts"}),"\n",(0,r.jsx)(n.li,{children:"Integration with cloud storage and networking"}),"\n",(0,r.jsx)(n.li,{children:"OAuth authentication support"}),"\n",(0,r.jsx)(n.li,{children:"Load balancing and auto-scaling"}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use Cases:"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enterprise cloud deployments"}),"\n",(0,r.jsx)(n.li,{children:"Teams requiring managed infrastructure"}),"\n",(0,r.jsx)(n.li,{children:"Applications with variable traffic patterns"}),"\n",(0,r.jsx)(n.li,{children:"Integration with existing cloud services"}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"./kubernetes#deploying-llama-stack-server-in-aws-eks",children:(0,r.jsx)(n.strong,{children:"\u2192 Cloud Deployment Details"})})})]}),(0,r.jsxs)(o.default,{value:"local",label:"Local Development",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Development & Testing"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Local Kind clusters for testing"}),"\n",(0,r.jsx)(n.li,{children:"Docker Compose setups"}),"\n",(0,r.jsx)(n.li,{children:"Single-node deployments"}),"\n",(0,r.jsx)(n.li,{children:"Quick prototyping environments"}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use Cases:"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Development and testing"}),"\n",(0,r.jsx)(n.li,{children:"Learning and experimentation"}),"\n",(0,r.jsx)(n.li,{children:"CI/CD testing pipelines"}),"\n",(0,r.jsx)(n.li,{children:"Resource-constrained environments"}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"./kubernetes#prerequisites",children:(0,r.jsx)(n.strong,{children:"\u2192 Local Setup Guide"})})})]})]}),"\n",(0,r.jsx)(n.h2,{id:"architecture-considerations",children:"Architecture Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"high-availability",children:"High Availability"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Load Balancing"}),": Distribute traffic across multiple Llama Stack instances"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Failover"}),": Automatic failover for model serving components"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Health Checks"}),": Kubernetes liveness and readiness probes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data Persistence"}),": Persistent volumes for model storage and application data"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"scalability",children:"Scalability"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Horizontal Scaling"}),": Scale Llama Stack servers based on demand"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Model Serving"}),": Separate model inference from application logic"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Resource Management"}),": CPU and memory limits for predictable performance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Auto-scaling"}),": Kubernetes Horizontal Pod Autoscaler (HPA) support"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Network Policies"}),": Secure inter-service communication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Secrets Management"}),": Secure handling of API keys and tokens"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RBAC"}),": Role-based access control for Kubernetes resources"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": OAuth integration for user management"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,r.jsx)(n.h3,{id:"quick-start-checklist",children:"Quick Start Checklist"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u2705 Choose Your Environment"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Local development: Kind cluster"}),"\n",(0,r.jsx)(n.li,{children:"Production: AWS EKS, GKE, or AKS"}),"\n",(0,r.jsx)(n.li,{children:"Hybrid: On-premises Kubernetes"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u2705 Prepare Prerequisites"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Kubernetes cluster access"}),"\n",(0,r.jsx)(n.li,{children:"Container registry access"}),"\n",(0,r.jsx)(n.li,{children:"Model access tokens (Hugging Face)"}),"\n",(0,r.jsx)(n.li,{children:"Storage provisioning"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u2705 Configure Resources"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Persistent volumes for model storage"}),"\n",(0,r.jsx)(n.li,{children:"Secrets for API tokens"}),"\n",(0,r.jsx)(n.li,{children:"Network policies and services"}),"\n",(0,r.jsx)(n.li,{children:"Ingress controllers (if needed)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u2705 Deploy Components"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Model serving infrastructure (vLLM)"}),"\n",(0,r.jsx)(n.li,{children:"Llama Stack server"}),"\n",(0,r.jsx)(n.li,{children:"Supporting services"}),"\n",(0,r.jsx)(n.li,{children:"Monitoring and logging"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"recommended-flow",children:"Recommended Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[Choose Deployment Target] --\x3e B{Environment Type}\n    B --\x3e|Local/Dev| C[Kind Cluster Setup]\n    B --\x3e|Production| D[Cloud K8s Setup]\n    C --\x3e E[Deploy vLLM Service]\n    D --\x3e E\n    E --\x3e F[Configure Llama Stack]\n    F --\x3e G[Deploy Llama Stack Server]\n    G --\x3e H[Verify Deployment]\n    H --\x3e I[Configure Monitoring]\n    I --\x3e J[Production Ready]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.h3,{id:"\ufe0f-infrastructure",children:["\ud83c\udfd7\ufe0f ",(0,r.jsx)(n.strong,{children:"Infrastructure"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use persistent volumes for model storage to avoid re-downloading"}),"\n",(0,r.jsx)(n.li,{children:"Separate model serving from application logic for better scaling"}),"\n",(0,r.jsx)(n.li,{children:"Implement proper resource limits and requests"}),"\n",(0,r.jsx)(n.li,{children:"Use namespaces to organize related resources"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"-security",children:["\ud83d\udd12 ",(0,r.jsx)(n.strong,{children:"Security"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Store sensitive data (API keys, tokens) in Kubernetes secrets"}),"\n",(0,r.jsx)(n.li,{children:"Use network policies to restrict inter-pod communication"}),"\n",(0,r.jsx)(n.li,{children:"Implement proper RBAC for cluster access"}),"\n",(0,r.jsx)(n.li,{children:"Regular security updates for base images"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"-monitoring",children:["\ud83d\udcca ",(0,r.jsx)(n.strong,{children:"Monitoring"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Deploy logging aggregation (ELK stack, Fluentd)"}),"\n",(0,r.jsx)(n.li,{children:"Set up metrics collection (Prometheus, Grafana)"}),"\n",(0,r.jsx)(n.li,{children:"Configure alerts for system health"}),"\n",(0,r.jsx)(n.li,{children:"Monitor resource utilization and performance"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"-performance",children:["\ud83d\ude80 ",(0,r.jsx)(n.strong,{children:"Performance"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use appropriate node types for GPU/CPU workloads"}),"\n",(0,r.jsx)(n.li,{children:"Configure resource requests and limits"}),"\n",(0,r.jsx)(n.li,{children:"Implement caching strategies"}),"\n",(0,r.jsx)(n.li,{children:"Monitor and optimize model loading times"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Pod Startup Failures"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check resource limits and node capacity"}),"\n",(0,r.jsx)(n.li,{children:"Verify secret and configmap references"}),"\n",(0,r.jsx)(n.li,{children:"Review persistent volume claims"}),"\n",(0,r.jsx)(n.li,{children:"Check image pull policies and registry access"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Model Loading Issues"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify Hugging Face token permissions"}),"\n",(0,r.jsx)(n.li,{children:"Check persistent volume size and availability"}),"\n",(0,r.jsx)(n.li,{children:"Monitor download progress in pod logs"}),"\n",(0,r.jsx)(n.li,{children:"Ensure network connectivity to model repositories"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Service Connectivity"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify service selectors and port configurations"}),"\n",(0,r.jsx)(n.li,{children:"Check network policies and ingress rules"}),"\n",(0,r.jsx)(n.li,{children:"Test internal DNS resolution"}),"\n",(0,r.jsx)(n.li,{children:"Validate load balancer configurations"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related-resources",children:"Related Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./kubernetes",children:"Kubernetes Deployment Guide"})})," - Detailed deployment instructions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/distributions",children:"Distributions"})})," - Understanding Llama Stack distributions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/distributions/configuration",children:"Configuration"})})," - Server configuration options"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/building-applications",children:"Building Applications"})})," - Application development guides"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}}}]);