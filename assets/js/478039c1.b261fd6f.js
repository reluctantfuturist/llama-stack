"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4],{4865:(e,r,i)=>{i.d(r,{A:()=>m});var n=i(96540),a=i(34164),l=i(23104),s=i(47751),t=i(92303);const o={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var d=i(74848);function c(e){var r=e.className,i=e.block,n=e.selectedValue,s=e.selectValue,t=e.tabValues,c=[],p=(0,l.a_)().blockElementScrollPositionUntilNextRender,h=function(e){var r=e.currentTarget,i=c.indexOf(r),a=t[i].value;a!==n&&(p(r),s(a))},m=function(e){var r,i=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":var n,a=c.indexOf(e.currentTarget)+1;i=null!=(n=c[a])?n:c[0];break;case"ArrowLeft":var l,s=c.indexOf(e.currentTarget)-1;i=null!=(l=c[s])?l:c[c.length-1]}null==(r=i)||r.focus()};return(0,d.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":i},r),children:t.map(function(e){var r=e.value,i=e.label,l=e.attributes;return(0,d.jsx)("li",Object.assign({role:"tab",tabIndex:n===r?0:-1,"aria-selected":n===r,ref:function(e){c.push(e)},onKeyDown:m,onClick:h},l,{className:(0,a.A)("tabs__item",o.tabItem,null==l?void 0:l.className,{"tabs__item--active":n===r}),children:null!=i?i:r}),r)})})}function p(e){var r=e.lazy,i=e.children,l=e.selectedValue,s=(Array.isArray(i)?i:[i]).filter(Boolean);if(r){var t=s.find(function(e){return e.props.value===l});return t?(0,n.cloneElement)(t,{className:(0,a.A)("margin-top--md",t.props.className)}):null}return(0,d.jsx)("div",{className:"margin-top--md",children:s.map(function(e,r){return(0,n.cloneElement)(e,{key:r,hidden:e.props.value!==l})})})}function h(e){var r=(0,s.u)(e);return(0,d.jsxs)("div",{className:(0,a.A)("tabs-container",o.tabList),children:[(0,d.jsx)(c,Object.assign({},r,e)),(0,d.jsx)(p,Object.assign({},r,e))]})}function m(e){var r=(0,t.default)();return(0,d.jsx)(h,Object.assign({},e,{children:(0,s.v)(e.children)}),String(r))}},50385:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>m,frontMatter:()=>o,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"providers/external/external-providers-guide","title":"Creating External Providers","description":"Comprehensive guide for developing custom Llama Stack providers","source":"@site/docs/providers/external/external-providers-guide.mdx","sourceDirName":"providers/external","slug":"/providers/external/external-providers-guide","permalink":"/llama-stack/docs/providers/external/external-providers-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/meta-llama/llama-stack/tree/main/docs/docs/providers/external/external-providers-guide.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Creating External Providers","description":"Comprehensive guide for developing custom Llama Stack providers","sidebar_label":"Creation Guide","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/llama-stack/docs/providers/external/"},"next":{"title":"Community Providers","permalink":"/llama-stack/docs/providers/external/external-providers-list"}}');var a=i(74848),l=i(28453),s=i(4865),t=i(19365);const o={title:"Creating External Providers",description:"Comprehensive guide for developing custom Llama Stack providers",sidebar_label:"Creation Guide",sidebar_position:2},d="Creating External Providers",c={},p=[{value:"Configuration Methods",id:"configuration-methods",level:2},{value:"Directory Structure",id:"directory-structure",level:2},{value:"Provider Types",id:"provider-types",level:2},{value:"\ud83c\udf10 Remote Providers",id:"-remote-providers",level:3},{value:"Remote Provider Specification",id:"remote-provider-specification",level:4},{value:"Adapter Configuration",id:"adapter-configuration",level:4},{value:"\ud83c\udfe0 Inline Providers",id:"-inline-providers",level:3},{value:"Inline Provider Specification",id:"inline-provider-specification",level:4},{value:"Inline Provider Fields",id:"inline-provider-fields",level:4},{value:"Required Implementation",id:"required-implementation",level:2},{value:"All Providers",id:"all-providers",level:3},{value:"Remote Providers",id:"remote-providers",level:3},{value:"Inline Providers",id:"inline-providers",level:3},{value:"Dependencies",id:"dependencies",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"\ud83d\udce6 Package Naming",id:"-package-naming",level:3},{value:"\ud83c\udff7\ufe0f Version Management",id:"\ufe0f-version-management",level:3},{value:"\u26a1 Dependencies",id:"-dependencies",level:3},{value:"\ud83d\udcda Documentation",id:"-documentation",level:3},{value:"\ud83e\uddea Testing",id:"-testing",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Complete Examples",id:"complete-examples",level:2},{value:"Example 1: Using <code>external_providers_dir</code> (Custom Ollama Provider)",id:"example-1-using-external_providers_dir-custom-ollama-provider",level:3},{value:"1. Create the Provider Package",id:"1-create-the-provider-package",level:4},{value:"2. Configure Package",id:"2-configure-package",level:4},{value:"3. Create Provider Specification",id:"3-create-provider-specification",level:4},{value:"4. Install the Provider",id:"4-install-the-provider",level:4},{value:"5. Configure Llama Stack",id:"5-configure-llama-stack",level:4},{value:"Example 2: Using <code>module</code> (ramalama-stack)",id:"example-2-using-module-ramalama-stack",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Related Resources",id:"related-resources",level:2}];function h(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"creating-external-providers",children:"Creating External Providers"})}),"\n",(0,a.jsx)(r.p,{children:"This guide walks you through creating custom Llama Stack providers that live outside the main codebase."}),"\n",(0,a.jsx)(r.h2,{id:"configuration-methods",children:"Configuration Methods"}),"\n",(0,a.jsx)(r.p,{children:"There are two ways to configure external providers in Llama Stack:"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsxs)(t.default,{value:"module",label:"Module Method (Recommended)",children:[(0,a.jsxs)(r.p,{children:["To enable external providers, add ",(0,a.jsx)(r.code,{children:"module"})," into your build yaml, allowing Llama Stack to install the required package corresponding to the external provider."]}),(0,a.jsx)(r.p,{children:"An example entry in your build.yaml should look like:"}),(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"- provider_type: remote::ramalama\n  module: ramalama_stack\n"})}),(0,a.jsx)(r.p,{children:"This method automatically handles package installation and provider discovery."})]}),(0,a.jsxs)(t.default,{value:"directory",label:"Directory Method (Deprecated)",children:[(0,a.jsx)(r.admonition,{title:"Deprecated Method",type:"warning",children:(0,a.jsxs)(r.p,{children:["This method is in the process of being deprecated in favor of the ",(0,a.jsx)(r.code,{children:"module"})," method."]})}),(0,a.jsxs)(r.p,{children:["You can configure the ",(0,a.jsx)(r.code,{children:"external_providers_dir"})," in your Llama Stack configuration:"]}),(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"external_providers_dir: ~/.llama/providers.d/\n"})}),(0,a.jsx)(r.p,{children:"The external provider directory should contain your external provider specifications."})]})]}),"\n",(0,a.jsx)(r.h2,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,a.jsx)(r.p,{children:"When using the directory method, the external providers directory should follow this structure:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"providers.d/\n  remote/\n    inference/\n      custom_ollama.yaml\n      vllm.yaml\n    vector_io/\n      qdrant.yaml\n    safety/\n      llama-guard.yaml\n  inline/\n    inference/\n      custom_ollama.yaml\n      vllm.yaml\n    vector_io/\n      qdrant.yaml\n    safety/\n      llama-guard.yaml\n"})}),"\n",(0,a.jsx)(r.p,{children:"Each YAML file in these directories defines a provider specification for that particular API."}),"\n",(0,a.jsx)(r.h2,{id:"provider-types",children:"Provider Types"}),"\n",(0,a.jsx)(r.p,{children:"Llama Stack supports two types of external providers:"}),"\n",(0,a.jsx)(r.h3,{id:"-remote-providers",children:"\ud83c\udf10 Remote Providers"}),"\n",(0,a.jsx)(r.p,{children:"Providers that communicate with external services (e.g., cloud APIs)"}),"\n",(0,a.jsx)(r.h4,{id:"remote-provider-specification",children:"Remote Provider Specification"}),"\n",(0,a.jsx)(r.p,{children:"Here's an example for a custom Ollama provider:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"adapter:\n  adapter_type: custom_ollama\n  pip_packages:\n  - ollama\n  - aiohttp\n  config_class: llama_stack_ollama_provider.config.OllamaImplConfig\n  module: llama_stack_ollama_provider\napi_dependencies: []\noptional_api_dependencies: []\n"})}),"\n",(0,a.jsx)(r.h4,{id:"adapter-configuration",children:"Adapter Configuration"}),"\n",(0,a.jsxs)(r.p,{children:["The ",(0,a.jsx)(r.code,{children:"adapter"})," section defines how to load and configure the provider:"]}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"adapter_type"})}),": A unique identifier for this adapter"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"pip_packages"})}),": List of Python packages required by the provider"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"config_class"})}),": The full path to the configuration class"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"module"})}),": The Python module containing the provider implementation"]}),"\n"]}),"\n",(0,a.jsx)(r.h3,{id:"-inline-providers",children:"\ud83c\udfe0 Inline Providers"}),"\n",(0,a.jsx)(r.p,{children:"Providers that run locally within the Llama Stack process."}),"\n",(0,a.jsx)(r.h4,{id:"inline-provider-specification",children:"Inline Provider Specification"}),"\n",(0,a.jsx)(r.p,{children:"Here's an example for a custom vector store provider:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"module: llama_stack_vector_provider\nconfig_class: llama_stack_vector_provider.config.VectorStoreConfig\npip_packages:\n  - faiss-cpu\n  - numpy\napi_dependencies:\n  - inference\noptional_api_dependencies:\n  - vector_io\nprovider_data_validator: llama_stack_vector_provider.validator.VectorStoreValidator\ncontainer_image: custom-vector-store:latest  # optional\n"})}),"\n",(0,a.jsx)(r.h4,{id:"inline-provider-fields",children:"Inline Provider Fields"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"module"})}),": The Python module containing the provider implementation"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"config_class"})}),": The full path to the configuration class"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"pip_packages"})}),": List of Python packages required by the provider"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"api_dependencies"})}),": List of Llama Stack APIs that this provider depends on"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"optional_api_dependencies"})}),": List of optional Llama Stack APIs that this provider can use"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"provider_data_validator"})}),": Optional validator for provider data"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"container_image"})}),": Optional container image to use instead of pip packages"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"required-implementation",children:"Required Implementation"}),"\n",(0,a.jsx)(r.h3,{id:"all-providers",children:"All Providers"}),"\n",(0,a.jsxs)(r.p,{children:["All providers must contain a ",(0,a.jsx)(r.code,{children:"get_provider_spec"})," function in their ",(0,a.jsx)(r.code,{children:"provider"})," module. This is a standardized structure that Llama Stack expects and is necessary for getting things such as the config class."]}),"\n",(0,a.jsxs)(r.p,{children:["The ",(0,a.jsx)(r.code,{children:"get_provider_spec"})," method returns a structure identical to the ",(0,a.jsx)(r.code,{children:"adapter"}),". An example function may look like:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'from llama_stack.providers.datatypes import (\n    ProviderSpec,\n    Api,\n    AdapterSpec,\n    remote_provider_spec,\n)\n\n\ndef get_provider_spec() -> ProviderSpec:\n    return remote_provider_spec(\n        api=Api.inference,\n        adapter=AdapterSpec(\n            adapter_type="ramalama",\n            pip_packages=["ramalama>=0.8.5", "pymilvus"],\n            config_class="ramalama_stack.config.RamalamaImplConfig",\n            module="ramalama_stack",\n        ),\n    )\n'})}),"\n",(0,a.jsx)(r.h3,{id:"remote-providers",children:"Remote Providers"}),"\n",(0,a.jsxs)(r.p,{children:["Remote providers must expose a ",(0,a.jsx)(r.code,{children:"get_adapter_impl()"})," function in their module that takes two arguments:"]}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"config"})}),": An instance of the provider's config class"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"deps"})}),": A dictionary of API dependencies"]}),"\n"]}),"\n",(0,a.jsx)(r.p,{children:"This function must return an instance of the provider's adapter class that implements the required protocol for the API."}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.strong,{children:"Example:"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"async def get_adapter_impl(\n    config: OllamaImplConfig, deps: Dict[Api, Any]\n) -> OllamaInferenceAdapter:\n    return OllamaInferenceAdapter(config)\n"})}),"\n",(0,a.jsx)(r.h3,{id:"inline-providers",children:"Inline Providers"}),"\n",(0,a.jsxs)(r.p,{children:["Inline providers must expose a ",(0,a.jsx)(r.code,{children:"get_provider_impl()"})," function in their module that takes two arguments:"]}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"config"})}),": An instance of the provider's config class"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.code,{children:"deps"})}),": A dictionary of API dependencies"]}),"\n"]}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.strong,{children:"Example:"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"async def get_provider_impl(\n    config: VectorStoreConfig, deps: Dict[Api, Any]\n) -> VectorStoreImpl:\n    impl = VectorStoreImpl(config, deps[Api.inference])\n    await impl.initialize()\n    return impl\n"})}),"\n",(0,a.jsx)(r.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,a.jsx)(r.p,{children:"The provider package must be installed on the system. For example:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"$ uv pip show llama-stack-ollama-provider\nName: llama-stack-ollama-provider\nVersion: 0.1.0\nLocation: /path/to/venv/lib/python3.10/site-packages\n"})}),"\n",(0,a.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsx)(r.h3,{id:"-package-naming",children:"\ud83d\udce6 Package Naming"}),"\n",(0,a.jsxs)(r.p,{children:["Use the prefix ",(0,a.jsx)(r.code,{children:"llama-stack-provider-"})," for your provider packages to make them easily identifiable."]}),"\n",(0,a.jsx)(r.h3,{id:"\ufe0f-version-management",children:"\ud83c\udff7\ufe0f Version Management"}),"\n",(0,a.jsx)(r.p,{children:"Keep your provider package versioned and compatible with the Llama Stack version you're using."}),"\n",(0,a.jsx)(r.h3,{id:"-dependencies",children:"\u26a1 Dependencies"}),"\n",(0,a.jsx)(r.p,{children:"Only include the minimum required dependencies in your provider package."}),"\n",(0,a.jsx)(r.h3,{id:"-documentation",children:"\ud83d\udcda Documentation"}),"\n",(0,a.jsx)(r.p,{children:"Include clear documentation in your provider package about:"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Installation requirements"}),"\n",(0,a.jsx)(r.li,{children:"Configuration options"}),"\n",(0,a.jsx)(r.li,{children:"Usage examples"}),"\n",(0,a.jsx)(r.li,{children:"Any limitations or known issues"}),"\n"]}),"\n",(0,a.jsx)(r.h3,{id:"-testing",children:"\ud83e\uddea Testing"}),"\n",(0,a.jsx)(r.p,{children:"Include tests in your provider package to ensure it works correctly with Llama Stack."}),"\n",(0,a.jsxs)(r.p,{children:["You can refer to the ",(0,a.jsx)(r.a,{href:"https://github.com/meta-llama/llama-stack/blob/main/tests/integration/README.md",children:"integration tests guide"})," for more information. Execute the test for the Provider type you are developing."]}),"\n",(0,a.jsx)(r.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,a.jsx)(r.p,{children:"If your external provider isn't being loaded:"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Check Module Path"}),": Verify that ",(0,a.jsx)(r.code,{children:"module"})," points to a published pip package with a top level ",(0,a.jsx)(r.code,{children:"provider"})," module including ",(0,a.jsx)(r.code,{children:"get_provider_spec"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Check Directory Path"}),": Verify that the ",(0,a.jsx)(r.code,{children:"external_providers_dir"})," path is correct and accessible."]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Validate YAML"}),": Ensure that the YAML files are properly formatted."]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Check Dependencies"}),": Ensure all required Python packages are installed."]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Review Logs"}),": Check the Llama Stack server logs for any error messages - turn on debug logging to get more information using ",(0,a.jsx)(r.code,{children:"LLAMA_STACK_LOGGING=all=debug"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:["\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"Verify Installation"}),": Verify that the provider package is installed in your Python environment if using ",(0,a.jsx)(r.code,{children:"external_providers_dir"}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"complete-examples",children:"Complete Examples"}),"\n",(0,a.jsxs)(r.h3,{id:"example-1-using-external_providers_dir-custom-ollama-provider",children:["Example 1: Using ",(0,a.jsx)(r.code,{children:"external_providers_dir"})," (Custom Ollama Provider)"]}),"\n",(0,a.jsx)(r.p,{children:"Here's a complete example of creating and using a custom Ollama provider:"}),"\n",(0,a.jsx)(r.h4,{id:"1-create-the-provider-package",children:"1. Create the Provider Package"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"mkdir -p llama-stack-provider-ollama\ncd llama-stack-provider-ollama\ngit init\nuv init\n"})}),"\n",(0,a.jsx)(r.h4,{id:"2-configure-package",children:"2. Configure Package"}),"\n",(0,a.jsxs)(r.p,{children:["Edit ",(0,a.jsx)(r.code,{children:"pyproject.toml"}),":"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-toml",children:'[project]\nname = "llama-stack-provider-ollama"\nversion = "0.1.0"\ndescription = "Ollama provider for Llama Stack"\nrequires-python = ">=3.12"\ndependencies = ["llama-stack", "pydantic", "ollama", "aiohttp"]\n'})}),"\n",(0,a.jsx)(r.h4,{id:"3-create-provider-specification",children:"3. Create Provider Specification"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:'# ~/.llama/providers.d/remote/inference/custom_ollama.yaml\nadapter:\n  adapter_type: custom_ollama\n  pip_packages: ["ollama", "aiohttp"]\n  config_class: llama_stack_provider_ollama.config.OllamaImplConfig\n  module: llama_stack_provider_ollama\napi_dependencies: []\noptional_api_dependencies: []\n'})}),"\n",(0,a.jsx)(r.h4,{id:"4-install-the-provider",children:"4. Install the Provider"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"uv pip install -e .\n"})}),"\n",(0,a.jsx)(r.h4,{id:"5-configure-llama-stack",children:"5. Configure Llama Stack"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"external_providers_dir: ~/.llama/providers.d/\n"})}),"\n",(0,a.jsxs)(r.p,{children:["The provider will now be available in Llama Stack with the type ",(0,a.jsx)(r.code,{children:"remote::custom_ollama"}),"."]}),"\n",(0,a.jsxs)(r.h3,{id:"example-2-using-module-ramalama-stack",children:["Example 2: Using ",(0,a.jsx)(r.code,{children:"module"})," (ramalama-stack)"]}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.a,{href:"https://github.com/containers/ramalama-stack",children:"ramalama-stack"})," is a recognized external provider that supports installation via module."]}),"\n",(0,a.jsx)(r.p,{children:"To install Llama Stack with this external provider a user can provide the following build.yaml:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"version: 2\ndistribution_spec:\n  description: Use (an external) Ramalama server for running LLM inference\n  container_image: null\n  providers:\n    inference:\n    - provider_type: remote::ramalama\n      module: ramalama_stack==0.3.0a0\nimage_type: venv\nimage_name: null\nexternal_providers_dir: null\nadditional_pip_packages:\n- aiosqlite\n- sqlalchemy[asyncio]\n"})}),"\n",(0,a.jsxs)(r.p,{children:["No other steps are required other than ",(0,a.jsx)(r.code,{children:"llama stack build"})," and ",(0,a.jsx)(r.code,{children:"llama stack run"}),". The build process will use ",(0,a.jsx)(r.code,{children:"module"})," to install all of the provider dependencies, retrieve the spec, etc."]}),"\n",(0,a.jsxs)(r.p,{children:["The provider will now be available in Llama Stack with the type ",(0,a.jsx)(r.code,{children:"remote::ramalama"}),"."]}),"\n",(0,a.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"\ud83d\udcd6 Study Examples"}),": Review the ",(0,a.jsx)(r.a,{href:"./external-providers-list",children:"Known External Providers"})," for real-world examples"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"\ud83d\udd27 Start Building"}),": Create your first provider using the templates above"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"\ud83e\uddea Test Integration"}),": Use the integration test framework to validate your provider"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"\ud83d\udce6 Publish"}),": Share your provider with the community via PyPI"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"\ud83d\udce2 Share"}),": Add your provider to our ",(0,a.jsx)(r.a,{href:"./external-providers-list",children:"community list"})]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"related-resources",children:"Related Resources"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.a,{href:"./index",children:"External Providers Overview"})})," - Understanding external providers"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.a,{href:"./external-providers-list",children:"Known External Providers"})})," - Community provider directory"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.a,{href:"/docs/api/",children:"API Protocols"})})," - Provider interface specifications"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.a,{href:"https://github.com/meta-llama/llama-stack/blob/main/tests/integration/README.md",children:"Integration Tests"})})," - Testing your providers"]}),"\n"]})]})}function m(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}}}]);