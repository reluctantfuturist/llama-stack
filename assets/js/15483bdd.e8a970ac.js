"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9830],{26903:(e,d,i)=>{i.r(d),i.d(d,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"providers/post_training/inline_huggingface","title":"inline::huggingface","description":"HuggingFace-based post-training provider for fine-tuning models using the HuggingFace ecosystem","source":"@site/docs/providers/post_training/inline_huggingface.mdx","sourceDirName":"providers/post_training","slug":"/providers/post_training/inline_huggingface","permalink":"/llama-stack/docs/providers/post_training/inline_huggingface","draft":false,"unlisted":false,"editUrl":"https://github.com/meta-llama/llama-stack/tree/main/docs/docs/providers/post_training/inline_huggingface.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"description":"HuggingFace-based post-training provider for fine-tuning models using the HuggingFace ecosystem","sidebar_label":"Huggingface","sidebar_position":2,"title":"inline::huggingface"},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/llama-stack/docs/providers/post_training/"},"next":{"title":"Huggingface Cpu","permalink":"/llama-stack/docs/providers/post_training/inline_huggingface-cpu"}}');var n=i(74848),t=i(28453);const r={description:"HuggingFace-based post-training provider for fine-tuning models using the HuggingFace ecosystem",sidebar_label:"Huggingface",sidebar_position:2,title:"inline::huggingface"},c="inline::huggingface",l={},o=[{value:"Description",id:"description",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Sample Configuration",id:"sample-configuration",level:2}];function h(e){const d={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.header,{children:(0,n.jsx)(d.h1,{id:"inlinehuggingface",children:"inline::huggingface"})}),"\n",(0,n.jsx)(d.h2,{id:"description",children:"Description"}),"\n",(0,n.jsx)(d.p,{children:"HuggingFace-based post-training provider for fine-tuning models using the HuggingFace ecosystem."}),"\n",(0,n.jsx)(d.h2,{id:"configuration",children:"Configuration"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"Field"}),(0,n.jsx)(d.th,{children:"Type"}),(0,n.jsx)(d.th,{children:"Required"}),(0,n.jsx)(d.th,{children:"Default"}),(0,n.jsx)(d.th,{children:"Description"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"device"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'str'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"cuda"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"distributed_backend"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Literal['fsdp', 'deepspeed']"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"checkpoint_format"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Literal['full_state', 'huggingface']"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"huggingface"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"chat_template"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'str'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<|user|>{input}<|assistant|>{output}"})}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"model_specific_config"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'dict'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"{'trust_remote_code': True, 'attn_implementation': 'sdpa'}"})}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"max_seq_length"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'int'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"2048"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"gradient_checkpointing"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'bool'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"False"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"save_total_limit"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'int'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"3"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"logging_steps"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'int'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"10"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"warmup_ratio"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'float'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"0.1"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"weight_decay"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'float'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"0.01"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"dataloader_num_workers"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'int'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"4"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"dataloader_pin_memory"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'bool'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"True"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"dpo_beta"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'float'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"0.1"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"use_reference_model"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'bool'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"True"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"dpo_loss_type"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"Literal['sigmoid', 'hinge', 'ipo', 'kto_pair'"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{children:"sigmoid"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"dpo_output_dir"})}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<class 'str'>"})}),(0,n.jsx)(d.td,{children:"No"}),(0,n.jsx)(d.td,{}),(0,n.jsx)(d.td,{})]})]})]}),"\n",(0,n.jsx)(d.h2,{id:"sample-configuration",children:"Sample Configuration"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-yaml",children:"checkpoint_format: huggingface\ndistributed_backend: null\ndevice: cpu\ndpo_output_dir: ~/.llama/dummy/dpo_output\n"})})]})}function a(e={}){const{wrapper:d}={...(0,t.R)(),...e.components};return d?(0,n.jsx)(d,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);