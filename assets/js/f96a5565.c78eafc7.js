"use strict";(self.webpackChunkdocusaurus_template_openapi_docs=self.webpackChunkdocusaurus_template_openapi_docs||[]).push([[3866],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(96540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},45344:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"distributions/remote-hosted-distro/watsonx","title":"watsonx Distribution","description":"Use watsonx for running LLM inference in Llama Stack","source":"@site/docs/distributions/remote-hosted-distro/watsonx.mdx","sourceDirName":"distributions/remote-hosted-distro","slug":"/distributions/remote-hosted-distro/watsonx","permalink":"/llama-stack/docs/distributions/remote-hosted-distro/watsonx","draft":false,"unlisted":false,"editUrl":"https://github.com/meta-llama/llama-stack/tree/main/docs/docs/distributions/remote-hosted-distro/watsonx.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"watsonx Distribution","description":"Use watsonx for running LLM inference in Llama Stack","sidebar_label":"watsonx","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/llama-stack/docs/distributions/remote-hosted-distro/"},"next":{"title":"iOS SDK","permalink":"/llama-stack/docs/distributions/ondevice-distro/ios-sdk"}}');var t=i(74848),r=i(28453);const l={title:"watsonx Distribution",description:"Use watsonx for running LLM inference in Llama Stack",sidebar_label:"watsonx",sidebar_position:2},a="watsonx Distribution",d={},o=[{value:"Provider Configuration",id:"provider-configuration",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Available Models",id:"available-models",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"API Keys",id:"api-keys",level:3},{value:"Running Llama Stack with watsonx",id:"running-llama-stack-with-watsonx",level:2},{value:"Via Docker",id:"via-docker",level:3},{value:"Via venv",id:"via-venv",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Related Guides",id:"related-guides",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"watsonx-distribution",children:"watsonx Distribution"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"llamastack/distribution-watsonx"})," distribution consists of the following provider configurations."]}),"\n",(0,t.jsx)(n.h2,{id:"provider-configuration",children:"Provider Configuration"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"API"}),(0,t.jsx)(n.th,{children:"Provider(s)"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"agents"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"inline::meta-reference"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"datasetio"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"remote::huggingface"}),", ",(0,t.jsx)(n.code,{children:"inline::localfs"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"eval"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"inline::meta-reference"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"inference"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"remote::watsonx"}),", ",(0,t.jsx)(n.code,{children:"inline::sentence-transformers"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"safety"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"inline::llama-guard"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"scoring"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"inline::basic"}),", ",(0,t.jsx)(n.code,{children:"inline::llm-as-judge"}),", ",(0,t.jsx)(n.code,{children:"inline::braintrust"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"telemetry"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"inline::meta-reference"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"tool_runtime"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"remote::brave-search"}),", ",(0,t.jsx)(n.code,{children:"remote::tavily-search"}),", ",(0,t.jsx)(n.code,{children:"inline::rag-runtime"}),", ",(0,t.jsx)(n.code,{children:"remote::model-context-protocol"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"vector_io"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"inline::faiss"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,t.jsx)(n.p,{children:"The following environment variables can be configured:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"LLAMASTACK_PORT"}),": Port for the Llama Stack distribution server (default: ",(0,t.jsx)(n.code,{children:"5001"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"WATSONX_API_KEY"}),": watsonx API Key (default: ``)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"WATSONX_PROJECT_ID"}),": watsonx Project ID (default: ``)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"available-models",children:"Available Models"}),"\n",(0,t.jsx)(n.p,{children:"The following models are available by default:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"meta-llama/llama-3-3-70b-instruct"})," (aliases: ",(0,t.jsx)(n.code,{children:"meta-llama/Llama-3.3-70B-Instruct"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"meta-llama/llama-2-13b-chat"})," (aliases: ",(0,t.jsx)(n.code,{children:"meta-llama/Llama-2-13b"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"meta-llama/llama-3-1-70b-instruct"})," (aliases: ",(0,t.jsx)(n.code,{children:"meta-llama/Llama-3.1-70B-Instruct"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"meta-llama/llama-3-1-8b-instruct"})," (aliases: ",(0,t.jsx)(n.code,{children:"meta-llama/Llama-3.1-8B-Instruct"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"meta-llama/llama-3-2-11b-vision-instruct"})," (aliases: ",(0,t.jsx)(n.code,{children:"meta-llama/Llama-3.2-11B-Vision-Instruct"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"meta-llama/llama-3-2-1b-instruct"})," (aliases: ",(0,t.jsx)(n.code,{children:"meta-llama/Llama-3.2-1B-Instruct"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"meta-llama/llama-3-2-3b-instruct"})," (aliases: ",(0,t.jsx)(n.code,{children:"meta-llama/Llama-3.2-3B-Instruct"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"meta-llama/llama-3-2-90b-vision-instruct"})," (aliases: ",(0,t.jsx)(n.code,{children:"meta-llama/Llama-3.2-90B-Vision-Instruct"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"meta-llama/llama-guard-3-11b-vision"})," (aliases: ",(0,t.jsx)(n.code,{children:"meta-llama/Llama-Guard-3-11B-Vision"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.h3,{id:"api-keys",children:"API Keys"}),"\n",(0,t.jsxs)(n.p,{children:["Make sure you have access to a watsonx API Key. You can get one by referring to the ",(0,t.jsx)(n.a,{href:"https://www.ibm.com/docs/en/masv-and-l/maximo-manage/continuous-delivery?topic=setup-create-watsonx-api-key",children:"watsonx.ai documentation"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"running-llama-stack-with-watsonx",children:"Running Llama Stack with watsonx"}),"\n",(0,t.jsx)(n.p,{children:"You can do this via venv or Docker which has a pre-built image."}),"\n",(0,t.jsx)(n.h3,{id:"via-docker",children:"Via Docker"}),"\n",(0,t.jsx)(n.p,{children:"This method allows you to get started quickly without having to build the distribution code."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"LLAMA_STACK_PORT=5001\ndocker run \\\n  -it \\\n  -p $LLAMA_STACK_PORT:$LLAMA_STACK_PORT \\\n  -v ./run.yaml:/root/my-run.yaml \\\n  llamastack/distribution-watsonx \\\n  --config /root/my-run.yaml \\\n  --port $LLAMA_STACK_PORT \\\n  --env WATSONX_API_KEY=$WATSONX_API_KEY \\\n  --env WATSONX_PROJECT_ID=$WATSONX_PROJECT_ID \\\n  --env WATSONX_BASE_URL=$WATSONX_BASE_URL\n"})}),"\n",(0,t.jsx)(n.h3,{id:"via-venv",children:"Via venv"}),"\n",(0,t.jsx)(n.p,{children:"If you've set up your local development environment, you can also build the image using your local virtual environment:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"llama stack build --distro watsonx --image-type venv\nllama stack run ./run.yaml \\\n  --port 5001 \\\n  --env WATSONX_API_KEY=$WATSONX_API_KEY \\\n  --env WATSONX_PROJECT_ID=$WATSONX_PROJECT_ID \\\n  --env WATSONX_BASE_URL=$WATSONX_BASE_URL\n"})}),"\n",(0,t.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,t.jsx)(n.p,{children:"The watsonx distribution is ideal for:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enterprise deployments"})," with IBM infrastructure"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Production workloads"})," requiring enterprise support"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Regulated industries"})," needing compliance and governance features"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hybrid cloud"})," deployments with IBM watsonx integration"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Set up watsonx credentials"})," - Obtain API keys and project IDs from IBM watsonx"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Configure environment variables"})," - Set WATSONX_API_KEY and WATSONX_PROJECT_ID"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Run the distribution"})," - Use Docker or venv to start the Llama Stack server"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test the connection"})," - Use llama-stack-client to verify the setup"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"related-guides",children:"Related Guides"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"./index",children:"Remote-Hosted Overview"})})," - Overview of remote-hosted distributions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"../list-of-distributions",children:"Available Distributions"})})," - Compare with other distributions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"../configuration",children:"Configuration Reference"})})," - Understanding configuration options"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"../building-distro",children:"Building Custom Distributions"})})," - Create your own distribution"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);