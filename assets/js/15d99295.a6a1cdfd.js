"use strict";(self.webpackChunkdocusaurus_template_openapi_docs=self.webpackChunkdocusaurus_template_openapi_docs||[]).push([[8983],{26680:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"getting-started/index","title":"Quickstart","description":"environments.","source":"@site/docs/getting-started/index.mdx","sourceDirName":"getting-started","slug":"/getting-started/","permalink":"/llama-stack/docs/getting-started/","draft":false,"unlisted":false,"editUrl":"https://github.com/meta-llama/llama-stack/tree/main/docs/docs/getting-started/index.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"description":"environments.","sidebar_label":"Quickstart","sidebar_position":1,"title":"Quickstart"},"sidebar":"tutorialSidebar","previous":{"title":"Intro","permalink":"/llama-stack/docs/intro"},"next":{"title":"Detailed Tutorial","permalink":"/llama-stack/docs/getting-started/detailed-tutorial"}}');var s=n(74848),a=n(28453);const i={description:"environments.",sidebar_label:"Quickstart",sidebar_position:1,title:"Quickstart"},r=void 0,l={},d=[{value:"Step 1: Install and setup",id:"step-1-install-and-setup",level:4},{value:"Step 2: Run the Llama Stack server",id:"step-2-run-the-llama-stack-server",level:4},{value:"Step 3: Run the demo",id:"step-3-run-the-demo",level:4},{value:"Next Steps",id:"next-steps",level:3}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Get started with Llama Stack in minutes!"}),"\n",(0,s.jsx)(t.p,{children:"Llama Stack is a stateful service with REST APIs to support the seamless transition of AI applications across different\nenvironments. You can build and test using a local server first and deploy to a hosted endpoint for production."}),"\n",(0,s.jsxs)(t.p,{children:["In this guide, we'll walk through how to build a RAG application locally using Llama Stack with ",(0,s.jsx)(t.a,{href:"https://ollama.com/",children:"Ollama"}),"\nas the inference ",(0,s.jsx)(t.a,{href:"/docs/providers/inference",children:"provider"})," for a Llama Model."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"\ud83d\udca1 Notebook Version:"})," You can also follow this quickstart guide in a Jupyter notebook format: ",(0,s.jsx)(t.a,{href:"https://github.com/meta-llama/llama-stack/blob/main/docs/quick_start.ipynb",children:"quick_start.ipynb"})]}),"\n",(0,s.jsx)(t.h4,{id:"step-1-install-and-setup",children:"Step 1: Install and setup"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Install ",(0,s.jsx)(t.a,{href:"https://docs.astral.sh/uv/",children:"uv"})]}),"\n",(0,s.jsxs)(t.li,{children:["Run inference on a Llama model with ",(0,s.jsx)(t.a,{href:"https://ollama.com/download",children:"Ollama"})]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"ollama run llama3.2:3b --keepalive 60m\n"})}),"\n",(0,s.jsx)(t.h4,{id:"step-2-run-the-llama-stack-server",children:"Step 2: Run the Llama Stack server"}),"\n",(0,s.jsxs)(t.p,{children:["We will use ",(0,s.jsx)(t.code,{children:"uv"})," to run the Llama Stack server."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"OLLAMA_URL=http://localhost:11434 \\\n  uv run --with llama-stack llama stack build --distro starter --image-type venv --run\n"})}),"\n",(0,s.jsx)(t.h4,{id:"step-3-run-the-demo",children:"Step 3: Run the demo"}),"\n",(0,s.jsxs)(t.p,{children:["Now open up a new terminal and copy the following script into a file named ",(0,s.jsx)(t.code,{children:"demo_script.py"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",metastring:'title="demo_script.py"',children:'# Copyright (c) Meta Platforms, Inc. and affiliates.\n# All rights reserved.\n#\n# This source code is licensed under the terms described in the LICENSE file in\n# the root directory of this source tree.\n\nfrom llama_stack_client import Agent, AgentEventLogger, RAGDocument, LlamaStackClient\n\nvector_db_id = "my_demo_vector_db"\nclient = LlamaStackClient(base_url="http://localhost:8321")\n\nmodels = client.models.list()\n\n# Select the first LLM and first embedding models\nmodel_id = next(m for m in models if m.model_type == "llm").identifier\nembedding_model_id = (\n    em := next(m for m in models if m.model_type == "embedding")\n).identifier\nembedding_dimension = em.metadata["embedding_dimension"]\n\nvector_db = client.vector_dbs.register(\n    vector_db_id=vector_db_id,\n    embedding_model=embedding_model_id,\n    embedding_dimension=embedding_dimension,\n    provider_id="faiss",\n)\nvector_db_id = vector_db.identifier\nsource = "https://www.paulgraham.com/greatwork.html"\nprint("rag_tool> Ingesting document:", source)\ndocument = RAGDocument(\n    document_id="document_1",\n    content=source,\n    mime_type="text/html",\n    metadata={},\n)\nclient.tool_runtime.rag_tool.insert(\n    documents=[document],\n    vector_db_id=vector_db_id,\n    chunk_size_in_tokens=100,\n)\nagent = Agent(\n    client,\n    model=model_id,\n    instructions="You are a helpful assistant",\n    tools=[\n        {\n            "name": "builtin::rag/knowledge_search",\n            "args": {"vector_db_ids": [vector_db_id]},\n        }\n    ],\n)\n\nprompt = "How do you do great work?"\nprint("prompt>", prompt)\n\nuse_stream = True\nresponse = agent.create_turn(\n    messages=[{"role": "user", "content": prompt}],\n    session_id=agent.create_session("rag_session"),\n    stream=use_stream,\n)\n\n# Only call `AgentEventLogger().log(response)` for streaming responses.\nif use_stream:\n    for log in AgentEventLogger().log(response):\n        log.print()\nelse:\n    print(response)\n'})}),"\n",(0,s.jsxs)(t.p,{children:["We will use ",(0,s.jsx)(t.code,{children:"uv"})," to run the script"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"uv run --with llama-stack-client,fire,requests demo_script.py\n"})}),"\n",(0,s.jsx)(t.p,{children:"And you should see output like below."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"rag_tool> Ingesting document: https://www.paulgraham.com/greatwork.html\n\nprompt> How do you do great work?\n\ninference> [knowledge_search(query=\"What is the key to doing great work\")]\n\ntool_execution> Tool:knowledge_search Args:{'query': 'What is the key to doing great work'}\n\ntool_execution> Tool:knowledge_search Response:[TextContentItem(text='knowledge_search tool found 5 chunks:\\nBEGIN of knowledge_search tool results.\\n', type='text'), TextContentItem(text=\"Result 1:\\nDocument_id:docum\\nContent:  work. Doing great work means doing something important\\nso well that you expand people's ideas of what's possible. But\\nthere's no threshold for importance. It's a matter of degree, and\\noften hard to judge at the time anyway.\\n\", type='text'), TextContentItem(text=\"Result 2:\\nDocument_id:docum\\nContent:  work. Doing great work means doing something important\\nso well that you expand people's ideas of what's possible. But\\nthere's no threshold for importance. It's a matter of degree, and\\noften hard to judge at the time anyway.\\n\", type='text'), TextContentItem(text=\"Result 3:\\nDocument_id:docum\\nContent:  work. Doing great work means doing something important\\nso well that you expand people's ideas of what's possible. But\\nthere's no threshold for importance. It's a matter of degree, and\\noften hard to judge at the time anyway.\\n\", type='text'), TextContentItem(text=\"Result 4:\\nDocument_id:docum\\nContent:  work. Doing great work means doing something important\\nso well that you expand people's ideas of what's possible. But\\nthere's no threshold for importance. It's a matter of degree, and\\noften hard to judge at the time anyway.\\n\", type='text'), TextContentItem(text=\"Result 5:\\nDocument_id:docum\\nContent:  work. Doing great work means doing something important\\nso well that you expand people's ideas of what's possible. But\\nthere's no threshold for importance. It's a matter of degree, and\\noften hard to judge at the time anyway.\\n\", type='text'), TextContentItem(text='END of knowledge_search tool results.\\n', type='text')]\n\ninference> Based on the search results, it seems that doing great work means doing something important so well that you expand people's ideas of what's possible. However, there is no clear threshold for importance, and it can be difficult to judge at the time.\n\nTo further clarify, I would suggest that doing great work involves:\n\n* Completing tasks with high quality and attention to detail\n* Expanding on existing knowledge or ideas\n* Making a positive impact on others through your work\n* Striving for excellence and continuous improvement\n\nUltimately, great work is about making a meaningful contribution and leaving a lasting impression.\n"})}),"\n",(0,s.jsx)(t.p,{children:"Congratulations! You've successfully built your first RAG application using Llama Stack! \ud83c\udf89\ud83e\udd73"}),"\n",(0,s.jsx)(t.admonition,{title:"HuggingFace access",type:"tip",children:(0,s.jsxs)(t.p,{children:["If you are getting a ",(0,s.jsx)(t.strong,{children:"401 Client Error"})," from HuggingFace for the ",(0,s.jsx)(t.strong,{children:"all-MiniLM-L6-v2"})," model, try setting ",(0,s.jsx)(t.strong,{children:"HF_TOKEN"})," to a valid HuggingFace token in your environment"]})}),"\n",(0,s.jsx)(t.h3,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(t.p,{children:"Now you're ready to dive deeper into Llama Stack!"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Explore the ",(0,s.jsx)(t.a,{href:"/docs/detailed_tutorial",children:"Detailed Tutorial"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Try the ",(0,s.jsx)(t.a,{href:"https://github.com/meta-llama/llama-stack/blob/main/docs/getting_started.ipynb",children:"Getting Started Notebook"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Browse more ",(0,s.jsx)(t.a,{href:"https://github.com/meta-llama/llama-stack/tree/main/docs/notebooks",children:"Notebooks on GitHub"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Learn about Llama Stack ",(0,s.jsx)(t.a,{href:"/docs/concepts",children:"Concepts"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Discover how to ",(0,s.jsx)(t.a,{href:"/docs/distributions",children:"Build Llama Stacks"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Refer to our ",(0,s.jsx)(t.a,{href:"/docs/references",children:"References"})," for details on the Llama CLI and Python SDK."]}),"\n",(0,s.jsxs)(t.li,{children:["Check out the ",(0,s.jsx)(t.a,{href:"https://github.com/meta-llama/llama-stack-apps/tree/main/examples",children:"llama-stack-apps"})," repository for example applications and tutorials."]}),"\n"]})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>r});var o=n(96540);const s={},a=o.createContext(s);function i(e){const t=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);